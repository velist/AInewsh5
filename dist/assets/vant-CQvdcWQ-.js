import{r as x,o as ne,a as at,b as ke,i as gn,w as A,u as ze,c as De,g as de,d as k,e as ce,n as D,f as Fe,p as _e,h as mn,j as f,k as L,m as ae,l as rt,T as st,q as Wt,s as lt,v as ct,F as ut,t as bn,x as yn,y as wn,z as Sn,A as xn,B as Cn,C as jt}from"./vendor-nj2f2Q9l.js";function dt(){}const ie=Object.assign,ft=typeof window<"u",Ne=e=>e!==null&&typeof e=="object",Y=e=>e!=null,Je=e=>typeof e=="function",Tn=e=>Ne(e)&&Je(e.then)&&Je(e.catch),Mt=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),En=()=>ft?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Ct(e,t){const n=t.split(".");let i=e;return n.forEach(a=>{var o;i=Ne(i)&&(o=i[a])!=null?o:""}),i}function et(e,t,n){return t.reduce((i,a)=>(i[a]=e[a],i),{})}const oe=null,T=[Number,String],B={type:Boolean,default:!0},Xe=e=>({type:e,required:!0}),$n=e=>({type:Number,default:e}),G=e=>({type:T,default:e}),O=e=>({type:String,default:e});var K=typeof window<"u";function $e(e){return K?requestAnimationFrame(e):-1}function Vt(e){K&&cancelAnimationFrame(e)}function Ce(e){$e(()=>$e(e))}var kn=e=>e===window,Tt=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),q=e=>{const t=ze(e);if(kn(t)){const n=t.innerWidth,i=t.innerHeight;return Tt(n,i)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Tt(0,0)};function Yt(e){const t=De(e,null);if(t){const n=de(),{link:i,unlink:a,internalChildren:o}=t;i(n),at(()=>a(n));const s=k(()=>o.indexOf(n));return{parent:t,index:s}}return{parent:null,index:x(-1)}}function Bn(e){const t=[],n=i=>{Array.isArray(i)&&i.forEach(a=>{var o;mn(a)&&(t.push(a),(o=a.component)!=null&&o.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}var Et=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(i=>t.key!==void 0&&t.key!==null&&i.type===t.type&&i.key===t.key):n};function pn(e,t,n){const i=Bn(e.subTree.children);n.sort((o,s)=>Et(i,o.vnode)-Et(i,s.vnode));const a=n.map(o=>o.proxy);t.sort((o,s)=>{const r=a.indexOf(o),c=a.indexOf(s);return r-c})}function Ut(e){const t=ce([]),n=ce([]),i=de();return{children:t,linkChildren:o=>{_e(e,Object.assign({link:c=>{c.proxy&&(n.push(c),t.push(c.proxy),pn(i,t,n))},unlink:c=>{const l=n.indexOf(c);t.splice(l,1),n.splice(l,1)},children:t,internalChildren:n},o))}}}function He(e){let t;ne(()=>{e(),D(()=>{t=!0})}),Fe(()=>{t&&e()})}function ye(e,t,n={}){if(!K)return;const{target:i=window,passive:a=!1,capture:o=!1}=n;let s=!1,r;const c=d=>{if(s)return;const h=ze(d);h&&!r&&(h.addEventListener(e,t,{capture:o,passive:a}),r=!0)},l=d=>{if(s)return;const h=ze(d);h&&r&&(h.removeEventListener(e,t,o),r=!1)};at(()=>l(i)),ke(()=>l(i)),He(()=>c(i));let u;return gn(i)&&(u=A(i,(d,h)=>{l(h),c(d)})),()=>{u==null||u(),l(i),s=!0}}var Ae,Ke;function In(){if(!Ae&&(Ae=x(0),Ke=x(0),K)){const e=()=>{Ae.value=window.innerWidth,Ke.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Ae,height:Ke}}var An=/scroll|auto|overlay/i,qt=K?window:void 0;function Ln(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function ht(e,t=qt){let n=e;for(;n&&n!==t&&Ln(n);){const{overflowY:i}=window.getComputedStyle(n);if(An.test(i))return n;n=n.parentNode}return t}function vt(e,t=qt){const n=x();return ne(()=>{e.value&&(n.value=ht(e.value,t))}),n}var Le;function On(){if(!Le&&(Le=x("visible"),K)){const e=()=>{Le.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Le}function gt(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function tt(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Pn(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function zn(e){tt(window,e),tt(document.body,e)}function $t(e,t){if(e===window)return 0;const n=t?gt(t):Pn();return q(e).top+n}En();const _n=e=>e.stopPropagation();function We(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&_n(e)}function be(e){const t=ze(e);if(!t)return!1;const n=window.getComputedStyle(t),i=n.display==="none",a=t.offsetParent===null&&n.position!=="fixed";return i||a}const{width:Be,height:je}=In();function W(e){if(Y(e))return Mt(e)?`${e}px`:String(e)}function Xt(e){if(Y(e)){if(Array.isArray(e))return{width:W(e[0]),height:W(e[1])};const t=W(e);return{width:t,height:t}}}function mt(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let Ze;function Rn(){if(!Ze){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Ze=parseFloat(t)}return Ze}function Dn(e){return e=e.replace(/rem/g,""),+e*Rn()}function Fn(e){return e=e.replace(/vw/g,""),+e*Be.value/100}function Nn(e){return e=e.replace(/vh/g,""),+e*je.value/100}function Kt(e){if(typeof e=="number")return e;if(ft){if(e.includes("rem"))return Dn(e);if(e.includes("vw"))return Fn(e);if(e.includes("vh"))return Nn(e)}return parseFloat(e)}const Hn=/-(\w)/g,Zt=e=>e.replace(Hn,(t,n)=>n.toUpperCase()),Ge=(e,t,n)=>Math.min(Math.max(e,t),n),{hasOwnProperty:Wn}=Object.prototype;function jn(e,t,n){const i=t[n];Y(i)&&(!Wn.call(e,n)||!Ne(i)?e[n]=i:e[n]=Gt(Object(e[n]),i))}function Gt(e,t){return Object.keys(t).forEach(n=>{jn(e,t,n)}),e}var Mn={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const kt=x("zh-CN"),Bt=ce({"zh-CN":Mn}),Vn={messages(){return Bt[kt.value]},use(e,t){kt.value=e,this.add({[e]:t})},add(e={}){Gt(Bt,e)}};var Yn=Vn;function Un(e){const t=Zt(e)+".";return(n,...i)=>{const a=Yn.messages(),o=Ct(a,t+n)||Ct(a,n);return Je(o)?o(...i):o}}function nt(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,i)=>n+nt(e,i),""):Object.keys(t).reduce((n,i)=>n+(t[i]?nt(e,i):""),""):""}function qn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${nt(t,n)}`)}function p(e){const t=`van-${e}`;return[t,qn(t),Un(t)]}const bt="van-hairline",Xn=`${bt}--bottom`,Kn=`${bt}--surround`,Qt=`${bt}--top-bottom`,Re="van-haptics-feedback",pt=5;function Jt(e,{args:t=[],done:n,canceled:i,error:a}){if(e){const o=e.apply(null,t);Tn(o)?o.then(s=>{s?n():i&&i()}).catch(a||dt):o?n():i&&i()}else n()}function _(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Zt(`-${n}`),e))},e}const en=Symbol();function yt(e){const t=De(en,null);t&&A(t,n=>{n&&e()})}const Zn=(e,t)=>{const n=x(),i=()=>{n.value=q(e).height};return ne(()=>{D(i);for(let a=1;a<=3;a++)setTimeout(i,100*a)}),yt(()=>D(i)),A([Be,je],i),n};function Gn(e,t){const n=Zn(e);return i=>f("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[i()])}function fe(e){const t=de();t&&ie(t.proxy,e)}const wt={to:[String,Object],url:String,replace:Boolean};function tn({to:e,url:t,replace:n,$router:i}){e&&i?i[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function nn(){const e=de().proxy;return()=>tn(e)}const[Qn,It]=p("badge"),Jn={dot:Boolean,max:T,tag:O("div"),color:String,offset:Array,content:T,showZero:B,position:O("top-right")};var ei=L({name:Qn,props:Jn,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:r,showZero:c}=e;return Y(r)&&r!==""&&(c||r!==0&&r!=="0")},i=()=>{const{dot:r,max:c,content:l}=e;if(!r&&n())return t.content?t.content():Y(c)&&Mt(l)&&+l>+c?`${c}+`:l},a=r=>r.startsWith("-")?r.replace("-",""):`-${r}`,o=k(()=>{const r={background:e.color};if(e.offset){const[c,l]=e.offset,{position:u}=e,[d,h]=u.split("-");t.default?(typeof l=="number"?r[d]=W(d==="top"?l:-l):r[d]=d==="top"?W(l):a(l),typeof c=="number"?r[h]=W(h==="left"?c:-c):r[h]=h==="left"?W(c):a(c)):(r.marginTop=W(l),r.marginLeft=W(c))}return r}),s=()=>{if(n()||e.dot)return f("div",{class:It([e.position,{dot:e.dot,fixed:!!t.default}]),style:o.value},[i()])};return()=>{if(t.default){const{tag:r}=e;return f(r,{class:It("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const on=_(ei);let ti=2e3;const ni=()=>++ti,[ii,ha]=p("config-provider"),oi=Symbol(ii),[ai,At]=p("icon"),ri=e=>e==null?void 0:e.includes("/"),si={dot:Boolean,tag:O("i"),name:String,size:T,badge:T,color:String,badgeProps:Object,classPrefix:String};var li=L({name:ai,props:si,setup(e,{slots:t}){const n=De(oi,null),i=k(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||At());return()=>{const{tag:a,dot:o,name:s,size:r,badge:c,color:l}=e,u=ri(s);return f(on,ae({dot:o,tag:a,class:[i.value,u?"":`${i.value}-${s}`],style:{color:l,fontSize:W(r)},content:c},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),u&&f("img",{class:At("image"),src:s},null)]}})}}});const ue=_(li),[ci,Ee]=p("loading"),ui=Array(12).fill(null).map((e,t)=>f("i",{class:Ee("line",String(t+1))},null)),di=f("svg",{class:Ee("circular"),viewBox:"25 25 50 50"},[f("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),fi={size:T,type:O("circular"),color:String,vertical:Boolean,textSize:T,textColor:String};var hi=L({name:ci,props:fi,setup(e,{slots:t}){const n=k(()=>ie({color:e.color},Xt(e.size))),i=()=>{const o=e.type==="spinner"?ui:di;return f("span",{class:Ee("spinner",e.type),style:n.value},[t.icon?t.icon():o])},a=()=>{var o;if(t.default)return f("span",{class:Ee("text"),style:{fontSize:W(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[t.default()])};return()=>{const{type:o,vertical:s}=e;return f("div",{class:Ee([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[i(),a()])}}});const St=_(hi),[vi,he]=p("button"),gi=ie({},wt,{tag:O("button"),text:String,icon:String,type:O("default"),size:O("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:O("button"),loadingSize:T,loadingText:String,loadingType:String,iconPosition:O("left")});var mi=L({name:vi,props:gi,emits:["click"],setup(e,{emit:t,slots:n}){const i=nn(),a=()=>n.loading?n.loading():f(St,{size:e.loadingSize,type:e.loadingType,class:he("loading")},null),o=()=>{if(e.loading)return a();if(n.icon)return f("div",{class:he("icon")},[n.icon()]);if(e.icon)return f(ue,{name:e.icon,class:he("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let l;if(e.loading?l=e.loadingText:l=n.default?n.default():e.text,l)return f("span",{class:he("text")},[l])},r=()=>{const{color:l,plain:u}=e;if(l){const d={color:u?l:"white"};return u||(d.background=l),l.includes("gradient")?d.border=0:d.borderColor=l,d}},c=l=>{e.loading?We(l):e.disabled||(t("click",l),i())};return()=>{const{tag:l,type:u,size:d,block:h,round:b,plain:v,square:w,loading:m,disabled:I,hairline:C,nativeType:Z,iconPosition:X}=e,R=[he([u,d,{plain:v,block:h,round:b,square:w,loading:m,disabled:I,hairline:C}]),{[Kn]:C}];return f(l,{type:Z,class:R,style:r(),disabled:I,onClick:c},{default:()=>[f("div",{class:he("content")},[X==="left"&&o(),s(),X==="right"&&o()])]})}}});const va=_(mi),bi={show:Boolean,zIndex:T,overlay:B,duration:T,teleport:[String,Object],lockScroll:B,lazyRender:B,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:oe,transitionAppear:Boolean,closeOnClickOverlay:B};function yi(e,t){return e>t?"horizontal":t>e?"vertical":""}function an(){const e=x(0),t=x(0),n=x(0),i=x(0),a=x(0),o=x(0),s=x(""),r=x(!0),c=()=>s.value==="vertical",l=()=>s.value==="horizontal",u=()=>{n.value=0,i.value=0,a.value=0,o.value=0,s.value="",r.value=!0};return{move:b=>{const v=b.touches[0];n.value=(v.clientX<0?0:v.clientX)-e.value,i.value=v.clientY-t.value,a.value=Math.abs(n.value),o.value=Math.abs(i.value);const w=10;(!s.value||a.value<w&&o.value<w)&&(s.value=yi(a.value,o.value)),r.value&&(a.value>pt||o.value>pt)&&(r.value=!1)},start:b=>{u(),e.value=b.touches[0].clientX,t.value=b.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:a,offsetY:o,direction:s,isVertical:c,isHorizontal:l,isTap:r}}let Se=0;const Lt="van-overflow-hidden";function wi(e,t){const n=an(),i="01",a="10",o=u=>{n.move(u);const d=n.deltaY.value>0?a:i,h=ht(u.target,e.value),{scrollHeight:b,offsetHeight:v,scrollTop:w}=h;let m="11";w===0?m=v>=b?"00":"01":w+v>=b&&(m="10"),m!=="11"&&n.isVertical()&&!(parseInt(m,2)&parseInt(d,2))&&We(u,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),Se||document.body.classList.add(Lt),Se++},r=()=>{Se&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),Se--,Se||document.body.classList.remove(Lt))},c=()=>t()&&s(),l=()=>t()&&r();He(c),ke(l),rt(l),A(t,u=>{u?s():r()})}function rn(e){const t=x(!1);return A(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const it=()=>{var e;const{scopeId:t}=((e=de())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Si,xi]=p("overlay"),Ci={show:Boolean,zIndex:T,duration:T,className:oe,lockScroll:B,lazyRender:B,customStyle:Object,teleport:[String,Object]};var Ti=L({name:Si,inheritAttrs:!1,props:Ci,setup(e,{attrs:t,slots:n}){const i=x(),a=rn(()=>e.show||!e.lazyRender),o=r=>{e.lockScroll&&We(r,!0)},s=a(()=>{var r;const c=ie(mt(e.zIndex),e.customStyle);return Y(e.duration)&&(c.animationDuration=`${e.duration}s`),lt(f("div",ae({ref:i,style:c,class:[xi(),e.className]},t),[(r=n.default)==null?void 0:r.call(n)]),[[ct,e.show]])});return ye("touchmove",o,{target:i}),()=>{const r=f(st,{name:"van-fade",appear:!0},{default:s});return e.teleport?f(Wt,{to:e.teleport},{default:()=>[r]}):r}}});const Ei=_(Ti),$i=ie({},bi,{round:Boolean,position:O("center"),closeIcon:O("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:O("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[ki,Ot]=p("popup");var Bi=L({name:ki,inheritAttrs:!1,props:$i,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:i}){let a,o;const s=x(),r=x(),c=rn(()=>e.show||!e.lazyRender),l=k(()=>{const E={zIndex:s.value};if(Y(e.duration)){const F=e.position==="center"?"animationDuration":"transitionDuration";E[F]=`${e.duration}s`}return E}),u=()=>{a||(a=!0,s.value=e.zIndex!==void 0?+e.zIndex:ni(),t("open"))},d=()=>{a&&Jt(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},h=E=>{t("clickOverlay",E),e.closeOnClickOverlay&&d()},b=()=>{if(e.overlay){const E=ie({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return f(Ei,ae(E,it(),{onClick:h}),{default:i["overlay-content"]})}},v=E=>{t("clickCloseIcon",E),d()},w=()=>{if(e.closeable)return f(ue,{role:"button",tabindex:0,name:e.closeIcon,class:[Ot("close-icon",e.closeIconPosition),Re],classPrefix:e.iconPrefix,onClick:v},null)};let m;const I=()=>{m&&clearTimeout(m),m=setTimeout(()=>{t("opened")})},C=()=>t("closed"),Z=E=>t("keydown",E),X=c(()=>{var E;const{destroyOnClose:F,round:Q,position:U,safeAreaInsetTop:N,safeAreaInsetBottom:J,show:j}=e;if(!(!j&&F))return lt(f("div",ae({ref:r,style:l.value,role:"dialog",tabindex:0,class:[Ot({round:Q,[U]:U}),{"van-safe-area-top":N,"van-safe-area-bottom":J}],onKeydown:Z},n,it()),[(E=i.default)==null?void 0:E.call(i),w()]),[[ct,j]])}),R=()=>{const{position:E,transition:F,transitionAppear:Q}=e,U=E==="center"?"van-fade":`van-popup-slide-${E}`;return f(st,{name:F||U,appear:Q,onAfterEnter:I,onAfterLeave:C},{default:X})};return A(()=>e.show,E=>{E&&!a&&(u(),n.tabindex===0&&D(()=>{var F;(F=r.value)==null||F.focus()})),!E&&a&&(a=!1,t("close"))}),fe({popupRef:r}),wi(r,()=>e.show&&e.lockScroll),ye("popstate",()=>{e.closeOnPopstate&&(d(),o=!1)}),ne(()=>{e.show&&u()}),Fe(()=>{o&&(t("update:show",!0),o=!1)}),ke(()=>{e.show&&e.teleport&&(d(),o=!0)}),_e(en,()=>e.show),()=>e.teleport?f(Wt,{to:e.teleport},{default:()=>[b(),R()]}):f(ut,null,[b(),R()])}});const pi=_(Bi);function Ii(e,t,n){let i,a=0;const o=e.scrollLeft,s=n===0?1:Math.round(n*1e3/16);let r=o;function c(){Vt(i)}function l(){r+=(t-o)/s,e.scrollLeft=r,++a<s&&(i=$e(l))}return l(),c}function Ai(e,t,n,i){let a,o=gt(e);const s=o<t,r=n===0?1:Math.round(n*1e3/16),c=(t-o)/r;function l(){Vt(a)}function u(){o+=c,(s&&o>t||!s&&o<t)&&(o=t),tt(e,o),s&&o<t||!s&&o>t?a=$e(u):i&&(a=$e(i))}return u(),l}let Li=0;function sn(){const e=de(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++Li}`}function Oi(){const e=x([]),t=[];return bn(()=>{e.value=[]}),[e,i=>(t[i]||(t[i]=a=>{e.value[i]=a}),t[i])]}function ln(e,t){if(!ft||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{t(o[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&n.observe(e.value)},a=()=>{e.value&&n.unobserve(e.value)};ke(a),rt(a),He(i)}const[Pi,zi]=p("sticky"),_i={zIndex:T,position:O("top"),container:Object,offsetTop:G(0),offsetBottom:G(0)};var Ri=L({name:Pi,props:_i,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const i=x(),a=vt(i),o=ce({fixed:!1,width:0,height:0,transform:0}),s=x(!1),r=k(()=>Kt(e.position==="top"?e.offsetTop:e.offsetBottom)),c=k(()=>{if(s.value)return;const{fixed:h,height:b,width:v}=o;if(h)return{width:`${v}px`,height:`${b}px`}}),l=k(()=>{if(!o.fixed||s.value)return;const h=ie(mt(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${r.value}px`});return o.transform&&(h.transform=`translate3d(0, ${o.transform}px, 0)`),h}),u=h=>t("scroll",{scrollTop:h,isFixed:o.fixed}),d=()=>{if(!i.value||be(i))return;const{container:h,position:b}=e,v=q(i),w=gt(window);if(o.width=v.width,o.height=v.height,b==="top")if(h){const m=q(h),I=m.bottom-r.value-o.height;o.fixed=r.value>v.top&&m.bottom>0,o.transform=I<0?I:0}else o.fixed=r.value>v.top;else{const{clientHeight:m}=document.documentElement;if(h){const I=q(h),C=m-I.top-r.value-o.height;o.fixed=m-r.value<v.bottom&&m>I.top,o.transform=C<0?-C:0}else o.fixed=m-r.value<v.bottom}u(w)};return A(()=>o.fixed,h=>t("change",h)),ye("scroll",d,{target:a,passive:!0}),ln(i,d),A([Be,je],()=>{!i.value||be(i)||!o.fixed||(s.value=!0,D(()=>{const h=q(i);o.width=h.width,o.height=h.height,s.value=!1}))}),()=>{var h;return f("div",{ref:i,style:c.value},[f("div",{class:zi({fixed:o.fixed&&!s.value}),style:l.value},[(h=n.default)==null?void 0:h.call(n)])])}}});const Di=_(Ri),[cn,Oe]=p("swipe"),Fi={loop:B,width:T,height:T,vertical:Boolean,autoplay:G(0),duration:G(500),touchable:B,lazyRender:Boolean,initialSwipe:G(0),indicatorColor:String,showIndicators:B,stopPropagation:B},un=Symbol(cn);var Ni=L({name:cn,props:Fi,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const i=x(),a=x(),o=ce({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let s=!1;const r=an(),{children:c,linkChildren:l}=Ut(un),u=k(()=>c.length),d=k(()=>o[e.vertical?"height":"width"]),h=k(()=>e.vertical?r.deltaY.value:r.deltaX.value),b=k(()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-d.value*u.value:0),v=k(()=>d.value?Math.ceil(Math.abs(b.value)/d.value):u.value),w=k(()=>u.value*d.value),m=k(()=>(o.active+u.value)%u.value),I=k(()=>{const y=e.vertical?"vertical":"horizontal";return r.direction.value===y}),C=k(()=>{const y={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(d.value){const P=e.vertical?"height":"width",z=e.vertical?"width":"height";y[P]=`${w.value}px`,y[z]=e[z]?`${e[z]}px`:""}return y}),Z=y=>{const{active:P}=o;return y?e.loop?Ge(P+y,-1,u.value):Ge(P+y,0,v.value):P},X=(y,P=0)=>{let z=y*d.value;e.loop||(z=Math.min(z,-b.value));let M=P-z;return e.loop||(M=Ge(M,b.value,0)),M},R=({pace:y=0,offset:P=0,emitChange:z})=>{if(u.value<=1)return;const{active:M}=o,g=Z(y),S=X(g,P);if(e.loop){if(c[0]&&S!==b.value){const $=S<b.value;c[0].setOffset($?w.value:0)}if(c[u.value-1]&&S!==0){const $=S>0;c[u.value-1].setOffset($?-w.value:0)}}o.active=g,o.offset=S,z&&g!==M&&t("change",m.value)},E=()=>{o.swiping=!0,o.active<=-1?R({pace:u.value}):o.active>=u.value&&R({pace:-u.value})},F=()=>{E(),r.reset(),Ce(()=>{o.swiping=!1,R({pace:-1,emitChange:!0})})},Q=()=>{E(),r.reset(),Ce(()=>{o.swiping=!1,R({pace:1,emitChange:!0})})};let U;const N=()=>clearTimeout(U),J=()=>{N(),+e.autoplay>0&&u.value>1&&(U=setTimeout(()=>{Q(),J()},+e.autoplay))},j=(y=+e.initialSwipe)=>{if(!i.value)return;const P=()=>{var z,M;if(!be(i)){const g={width:i.value.offsetWidth,height:i.value.offsetHeight};o.rect=g,o.width=+((z=e.width)!=null?z:g.width),o.height=+((M=e.height)!=null?M:g.height)}u.value&&(y=Math.min(u.value-1,y),y===-1&&(y=u.value-1)),o.active=y,o.swiping=!0,o.offset=X(y),c.forEach(g=>{g.setOffset(0)}),J()};be(i)?D().then(P):P()},re=()=>j(o.active);let we;const Me=y=>{!e.touchable||y.touches.length>1||(r.start(y),s=!1,we=Date.now(),N(),E())},Ve=y=>{e.touchable&&o.swiping&&(r.move(y),I.value&&(!e.loop&&(o.active===0&&h.value>0||o.active===u.value-1&&h.value<0)||(We(y,e.stopPropagation),R({offset:h.value}),s||(t("dragStart",{index:m.value}),s=!0))))},pe=()=>{if(!e.touchable||!o.swiping)return;const y=Date.now()-we,P=h.value/y;if((Math.abs(P)>.25||Math.abs(h.value)>d.value/2)&&I.value){const M=e.vertical?r.offsetY.value:r.offsetX.value;let g=0;e.loop?g=M>0?h.value>0?-1:1:0:g=-Math[h.value>0?"ceil":"floor"](h.value/d.value),R({pace:g,emitChange:!0})}else h.value&&R({pace:0});s=!1,o.swiping=!1,t("dragEnd",{index:m.value}),J()},Ye=(y,P={})=>{E(),r.reset(),Ce(()=>{let z;e.loop&&y===u.value?z=o.active===0?0:y:z=y%u.value,P.immediate?Ce(()=>{o.swiping=!1}):o.swiping=!1,R({pace:z-o.active,emitChange:!0})})},Ue=(y,P)=>{const z=P===m.value,M=z?{backgroundColor:e.indicatorColor}:void 0;return f("i",{style:M,class:Oe("indicator",{active:z})},null)},qe=()=>{if(n.indicator)return n.indicator({active:m.value,total:u.value});if(e.showIndicators&&u.value>1)return f("div",{class:Oe("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(Ue)])};return fe({prev:F,next:Q,state:o,resize:re,swipeTo:Ye}),l({size:d,props:e,count:u,activeIndicator:m}),A(()=>e.initialSwipe,y=>j(+y)),A(u,()=>j(o.active)),A(()=>e.autoplay,J),A([Be,je,()=>e.width,()=>e.height],re),A(On(),y=>{y==="visible"?J():N()}),ne(j),Fe(()=>j(o.active)),yt(()=>j(o.active)),ke(N),rt(N),ye("touchmove",Ve,{target:a}),()=>{var y;return f("div",{ref:i,class:Oe()},[f("div",{ref:a,style:C.value,class:Oe("track",{vertical:e.vertical}),onTouchstartPassive:Me,onTouchend:pe,onTouchcancel:pe},[(y=n.default)==null?void 0:y.call(n)]),qe()])}}});const Hi=_(Ni),[Wi,Pt]=p("tabs");var ji=L({name:Wi,props:{count:Xe(Number),inited:Boolean,animated:Boolean,duration:Xe(T),swipeable:Boolean,lazyRender:Boolean,currentIndex:Xe(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const i=x(),a=r=>t("change",r),o=()=>{var r;const c=(r=n.default)==null?void 0:r.call(n);return e.animated||e.swipeable?f(Hi,{ref:i,loop:!1,class:Pt("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[c]}):c},s=r=>{const c=i.value;c&&c.state.active!==r&&c.swipeTo(r,{immediate:!e.inited})};return A(()=>e.currentIndex,s),ne(()=>{s(e.currentIndex)}),fe({swipeRef:i}),()=>f("div",{class:Pt("content",{animated:e.animated||e.swipeable})},[o()])}});const[dn,Pe]=p("tabs"),Mi={type:O("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:G(0),duration:G(.3),animated:Boolean,ellipsis:B,swipeable:Boolean,scrollspy:Boolean,offsetTop:G(0),background:String,lazyRender:B,showHeader:B,lineWidth:T,lineHeight:T,beforeChange:Function,swipeThreshold:G(5),titleActiveColor:String,titleInactiveColor:String},fn=Symbol(dn);var Vi=L({name:dn,props:Mi,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let i,a,o,s,r;const c=x(),l=x(),u=x(),d=x(),h=sn(),b=vt(c),[v,w]=Oi(),{children:m,linkChildren:I}=Ut(fn),C=ce({inited:!1,position:"",lineStyle:{},currentIndex:-1}),Z=k(()=>m.length>+e.swipeThreshold||!e.ellipsis||e.shrink),X=k(()=>({borderColor:e.color,background:e.background})),R=(g,S)=>{var $;return($=g.name)!=null?$:S},E=k(()=>{const g=m[C.currentIndex];if(g)return R(g,C.currentIndex)}),F=k(()=>Kt(e.offsetTop)),Q=k(()=>e.sticky?F.value+i:0),U=g=>{const S=l.value,$=v.value;if(!Z.value||!S||!$||!$[C.currentIndex])return;const V=$[C.currentIndex].$el,H=V.offsetLeft-(S.offsetWidth-V.offsetWidth)/2;s&&s(),s=Ii(S,H,g?0:+e.duration)},N=()=>{const g=C.inited;D(()=>{const S=v.value;if(!S||!S[C.currentIndex]||e.type!=="line"||be(c.value))return;const $=S[C.currentIndex].$el,{lineWidth:V,lineHeight:H}=e,ee=$.offsetLeft+$.offsetWidth/2,se={width:W(V),backgroundColor:e.color,transform:`translateX(${ee}px) translateX(-50%)`};if(g&&(se.transitionDuration=`${e.duration}s`),Y(H)){const Ie=W(H);se.height=Ie,se.borderRadius=Ie}C.lineStyle=se})},J=g=>{const S=g<C.currentIndex?-1:1;for(;g>=0&&g<m.length;){if(!m[g].disabled)return g;g+=S}},j=(g,S)=>{const $=J(g);if(!Y($))return;const V=m[$],H=R(V,$),ee=C.currentIndex!==null;C.currentIndex!==$&&(C.currentIndex=$,S||U(),N()),H!==e.active&&(t("update:active",H),ee&&t("change",H,V.title)),o&&!e.scrollspy&&zn(Math.ceil($t(c.value)-F.value))},re=(g,S)=>{const $=m.findIndex((V,H)=>R(V,H)===g);j($===-1?0:$,S)},we=(g=!1)=>{if(e.scrollspy){const S=m[C.currentIndex].$el;if(S&&b.value){const $=$t(S,b.value)-Q.value;a=!0,r&&r(),r=Ai(b.value,$,g?0:+e.duration,()=>{a=!1})}}},Me=(g,S,$)=>{const{title:V,disabled:H}=m[S],ee=R(m[S],S);H||(Jt(e.beforeChange,{args:[ee],done:()=>{j(S),we()}}),tn(g)),t("clickTab",{name:ee,title:V,event:$,disabled:H})},Ve=g=>{o=g.isFixed,t("scroll",g)},pe=g=>{D(()=>{re(g),we(!0)})},Ye=()=>{for(let g=0;g<m.length;g++){const{top:S}=q(m[g].$el);if(S>Q.value)return g===0?0:g-1}return m.length-1},Ue=()=>{if(e.scrollspy&&!a){const g=Ye();j(g)}},qe=()=>{if(e.type==="line"&&m.length)return f("div",{class:Pe("line"),style:C.lineStyle},null)},y=()=>{var g,S,$;const{type:V,border:H,sticky:ee}=e,se=[f("div",{ref:ee?void 0:u,class:[Pe("wrap"),{[Qt]:V==="line"&&H}]},[f("div",{ref:l,role:"tablist",class:Pe("nav",[V,{shrink:e.shrink,complete:Z.value}]),style:X.value,"aria-orientation":"horizontal"},[(g=n["nav-left"])==null?void 0:g.call(n),m.map(Ie=>Ie.renderTitle(Me)),qe(),(S=n["nav-right"])==null?void 0:S.call(n)])]),($=n["nav-bottom"])==null?void 0:$.call(n)];return ee?f("div",{ref:u},[se]):se},P=()=>{N(),D(()=>{var g,S;U(!0),(S=(g=d.value)==null?void 0:g.swipeRef.value)==null||S.resize()})};A(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],N),A(Be,P),A(()=>e.active,g=>{g!==E.value&&re(g)}),A(()=>m.length,()=>{C.inited&&(re(e.active),N(),D(()=>{U(!0)}))});const z=()=>{re(e.active,!0),D(()=>{C.inited=!0,u.value&&(i=q(u.value).height),U(!0)})},M=(g,S)=>t("rendered",g,S);return fe({resize:P,scrollTo:pe}),Fe(N),yt(N),He(z),ln(c,N),ye("scroll",Ue,{target:b,passive:!0}),I({id:h,props:e,setLine:N,scrollable:Z,onRendered:M,currentName:E,setTitleRefs:w,scrollIntoView:U}),()=>f("div",{ref:c,class:Pe([e.type])},[e.showHeader?e.sticky?f(Di,{container:c.value,offsetTop:F.value,onScroll:Ve},{default:()=>[y()]}):y():null,f(ji,{ref:d,count:m.length,inited:C.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:C.currentIndex,onChange:j},{default:()=>{var g;return[(g=n.default)==null?void 0:g.call(n)]}})])}});const Yi=Symbol(),hn=Symbol(),vn=()=>De(hn,null),Ui=e=>{const t=vn();_e(Yi,e),_e(hn,k(()=>(t==null||t.value)&&e.value))},[qi,zt]=p("tab"),Xi=L({name:qi,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:T,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:B},setup(e,{slots:t}){const n=k(()=>{const a={},{type:o,color:s,disabled:r,isActive:c,activeColor:l,inactiveColor:u}=e;s&&o==="card"&&(a.borderColor=s,r||(c?a.backgroundColor=s:a.color=s));const h=c?l:u;return h&&(a.color=h),a}),i=()=>{const a=f("span",{class:zt("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Y(e.badge)&&e.badge!==""?f(on,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>f("div",{id:e.id,role:"tab",class:[zt([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[i()])}}),[Ki,Zi]=p("swipe-item");var Gi=L({name:Ki,setup(e,{slots:t}){let n;const i=ce({offset:0,inited:!1,mounted:!1}),{parent:a,index:o}=Yt(un);if(!a)return;const s=k(()=>{const l={},{vertical:u}=a.props;return a.size.value&&(l[u?"height":"width"]=`${a.size.value}px`),i.offset&&(l.transform=`translate${u?"Y":"X"}(${i.offset}px)`),l}),r=k(()=>{const{loop:l,lazyRender:u}=a.props;if(!u||n)return!0;if(!i.mounted)return!1;const d=a.activeIndicator.value,h=a.count.value-1,b=d===0&&l?h:d-1,v=d===h&&l?0:d+1;return n=o.value===d||o.value===b||o.value===v,n}),c=l=>{i.offset=l};return ne(()=>{D(()=>{i.mounted=!0})}),fe({setOffset:c}),()=>{var l;return f("div",{class:Zi(),style:s.value},[r.value?(l=t.default)==null?void 0:l.call(t):null])}}});const Qi=_(Gi),[Ji,Qe]=p("tab"),eo=ie({},wt,{dot:Boolean,name:T,badge:T,title:String,disabled:Boolean,titleClass:oe,titleStyle:[String,Object],showZeroBadge:B});var to=L({name:Ji,props:eo,setup(e,{slots:t}){const n=sn(),i=x(!1),a=de(),{parent:o,index:s}=Yt(fn);if(!o)return;const r=()=>{var v;return(v=e.name)!=null?v:s.value},c=()=>{i.value=!0,o.props.lazyRender&&D(()=>{o.onRendered(r(),e.title)})},l=k(()=>{const v=r()===o.currentName.value;return v&&!i.value&&c(),v}),u=x(""),d=x("");yn(()=>{const{titleClass:v,titleStyle:w}=e;u.value=v?wn(v):"",d.value=w&&typeof w!="string"?Sn(xn(w)):w});const h=v=>f(Xi,ae({key:n,id:`${o.id}-${s.value}`,ref:o.setTitleRefs(s.value),style:d.value,class:u.value,isActive:l.value,controls:n,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:w=>v(a.proxy,s.value,w)},et(o.props,["type","color","shrink"]),et(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),b=x(!l.value);return A(l,v=>{v?b.value=!1:Ce(()=>{b.value=!0})}),A(()=>e.title,()=>{o.setLine(),o.scrollIntoView()}),Ui(l),fe({id:n,renderTitle:h}),()=>{var v;const w=`${o.id}-${s.value}`,{animated:m,swipeable:I,scrollspy:C,lazyRender:Z}=o.props;if(!t.default&&!m)return;const X=C||l.value;if(m||I)return f(Qi,{id:n,role:"tabpanel",class:Qe("panel-wrapper",{inactive:b.value}),tabindex:l.value?0:-1,"aria-hidden":!l.value,"aria-labelledby":w,"data-allow-mismatch":"attribute"},{default:()=>{var F;return[f("div",{class:Qe("panel")},[(F=t.default)==null?void 0:F.call(t)])]}});const E=i.value||C||!Z?(v=t.default)==null?void 0:v.call(t):null;return lt(f("div",{id:n,role:"tabpanel",class:Qe("panel"),tabindex:X?0:-1,"aria-labelledby":w,"data-allow-mismatch":"attribute"},[E]),[[ct,X]])}}});const ga=_(to),ma=_(Vi),[no,ve]=p("cell"),io={tag:O("div"),icon:String,size:String,title:T,value:T,label:T,center:Boolean,isLink:Boolean,border:B,iconPrefix:String,valueClass:oe,labelClass:oe,titleClass:oe,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},oo=ie({},io,wt);var ao=L({name:no,props:oo,setup(e,{slots:t}){const n=nn(),i=()=>{if(t.label||Y(e.label))return f("div",{class:[ve("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{var c;if(t.title||Y(e.title)){const l=(c=t.title)==null?void 0:c.call(t);return Array.isArray(l)&&l.length===0?void 0:f("div",{class:[ve("title"),e.titleClass],style:e.titleStyle},[l||f("span",null,[e.title]),i()])}},o=()=>{const c=t.value||t.default;if(c||Y(e.value))return f("div",{class:[ve("value"),e.valueClass]},[c?c():f("span",null,[e.value])])},s=()=>{if(t.icon)return t.icon();if(e.icon)return f(ue,{name:e.icon,class:ve("left-icon"),classPrefix:e.iconPrefix},null)},r=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const c=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return f(ue,{name:c,class:ve("right-icon")},null)}};return()=>{var c;const{tag:l,size:u,center:d,border:h,isLink:b,required:v}=e,w=(c=e.clickable)!=null?c:b,m={center:d,required:!!v,clickable:w,borderless:!h};return u&&(m[u]=!!u),f(l,{class:ve(m),role:w?"button":void 0,tabindex:w?0:void 0,onClick:n},{default:()=>{var I;return[s(),a(),o(),r(),(I=t.extra)==null?void 0:I.call(t)]}})}}});const ba=_(ao);let xe=0;function ro(e){e?(xe||document.body.classList.add("van-toast--unclickable"),xe++):xe&&(xe--,xe||document.body.classList.remove("van-toast--unclickable"))}const[so,ge]=p("toast"),lo=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],co={icon:String,show:Boolean,type:O("text"),overlay:Boolean,message:T,iconSize:T,duration:$n(2e3),position:O("middle"),teleport:[String,Object],wordBreak:String,className:oe,iconPrefix:String,transition:O("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:oe,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:T};var uo=L({name:so,props:co,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,a=!1;const o=()=>{const d=e.show&&e.forbidClick;a!==d&&(a=d,ro(a))},s=d=>t("update:show",d),r=()=>{e.closeOnClick&&s(!1)},c=()=>clearTimeout(i),l=()=>{const{icon:d,type:h,iconSize:b,iconPrefix:v,loadingType:w}=e;if(d||h==="success"||h==="fail")return f(ue,{name:d||h,size:b,class:ge("icon"),classPrefix:v},null);if(h==="loading")return f(St,{class:ge("loading"),size:b,type:w},null)},u=()=>{const{type:d,message:h}=e;if(n.message)return f("div",{class:ge("text")},[n.message()]);if(Y(h)&&h!=="")return d==="html"?f("div",{key:0,class:ge("text"),innerHTML:String(h)},null):f("div",{class:ge("text")},[h])};return A(()=>[e.show,e.forbidClick],o),A(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(i=setTimeout(()=>{s(!1)},e.duration))}),ne(o),at(o),()=>f(pi,ae({class:[ge([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:r,onClosed:c,"onUpdate:show":s},et(e,lo)),{default:()=>[l(),u()]})}});const ya=_(uo),[fo,_t]=p("tag"),ho={size:String,mark:Boolean,show:B,type:O("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var vo=L({name:fo,props:ho,emits:["close"],setup(e,{slots:t,emit:n}){const i=s=>{s.stopPropagation(),n("close",s)},a=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},o=()=>{var s;const{type:r,mark:c,plain:l,round:u,size:d,closeable:h}=e,b={mark:c,plain:l,round:u};d&&(b[d]=d);const v=h&&f(ue,{name:"cross",class:[_t("close"),Re],onClick:i},null);return f("span",{style:a(),class:_t([b,r])},[(s=t.default)==null?void 0:s.call(t),v])};return()=>f(st,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?o():null]})}});const wa=_(vo),Rt=K&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,le={event:"event",observer:"observer"};function Te(e,t){if(!e.length)return;const n=e.indexOf(t);if(n>-1)return e.splice(n,1)}function Dt(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return;let n=e.getAttribute("data-srcset");const a=e.parentNode.offsetWidth*t;let o,s,r;n=n.trim().split(",");const c=n.map(d=>(d=d.trim(),o=d.lastIndexOf(" "),o===-1?(s=d,r=999998):(s=d.substr(0,o),r=parseInt(d.substr(o+1,d.length-o-2),10)),[r,s]));c.sort((d,h)=>{if(d[0]<h[0])return 1;if(d[0]>h[0])return-1;if(d[0]===h[0]){if(h[1].indexOf(".webp",h[1].length-5)!==-1)return 1;if(d[1].indexOf(".webp",d[1].length-5)!==-1)return-1}return 0});let l="",u;for(let d=0;d<c.length;d++){u=c[d],l=u[1];const h=c[d+1];if(h&&h[0]<a){l=u[1];break}else if(!h){l=u[1];break}}return l}const go=(e=1)=>K&&window.devicePixelRatio||e;function mo(){if(!K)return!1;let e=!0;try{const t=document.createElement("canvas");t.getContext&&t.getContext("2d")&&(e=t.toDataURL("image/webp").indexOf("data:image/webp")===0)}catch{e=!1}return e}function bo(e,t){let n=null,i=0;return function(...a){if(n)return;const o=Date.now()-i,s=()=>{i=Date.now(),n=!1,e.apply(this,a)};o>=t?s():n=setTimeout(s,t)}}function yo(e,t,n){e.addEventListener(t,n,{capture:!1,passive:!0})}function wo(e,t,n){e.removeEventListener(t,n,!1)}const ot=(e,t,n)=>{const i=new Image;if(!e||!e.src)return n(new Error("image src is required"));i.src=e.src,e.cors&&(i.crossOrigin=e.cors),i.onload=()=>t({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src}),i.onerror=a=>n(a)};class So{constructor({max:t}){this.options={max:t||100},this.caches=[]}has(t){return this.caches.indexOf(t)>-1}add(t){this.has(t)||(this.caches.push(t),this.caches.length>this.options.max&&this.free())}free(){this.caches.shift()}}const[xo,Ft]=p("cell-group"),Co={title:String,inset:Boolean,border:B};var To=L({name:xo,inheritAttrs:!1,props:Co,setup(e,{slots:t,attrs:n}){const i=()=>{var o;return f("div",ae({class:[Ft({inset:e.inset}),{[Qt]:e.border&&!e.inset}]},n,it()),[(o=t.default)==null?void 0:o.call(t)])},a=()=>f("div",{class:Ft("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?f(ut,null,[a(),i()]):i()}});const Sa=_(To),[Eo,$o]=p("divider"),ko={dashed:Boolean,hairline:B,vertical:Boolean,contentPosition:O("center")};var Bo=L({name:Eo,props:ko,setup(e,{slots:t}){return()=>{var n;return f("div",{role:"separator",class:$o({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!t.default&&!e.vertical})},[!e.vertical&&((n=t.default)==null?void 0:n.call(t))])}}});const xa=_(Bo),[po,me,Io]=p("list"),Ao={error:Boolean,offset:G(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:O("down"),loadingText:String,finishedText:String,immediateCheck:B};var Lo=L({name:po,props:Ao,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const i=x(e.loading),a=x(),o=x(),s=vn(),r=vt(a),c=k(()=>e.scroller||r.value),l=()=>{D(()=>{if(i.value||e.finished||e.disabled||e.error||(s==null?void 0:s.value)===!1)return;const{direction:v}=e,w=+e.offset,m=q(c);if(!m.height||be(a))return;let I=!1;const C=q(o);v==="up"?I=m.top-C.top<=w:I=C.bottom-m.bottom<=w,I&&(i.value=!0,t("update:loading",!0),t("load"))})},u=()=>{if(e.finished){const v=n.finished?n.finished():e.finishedText;if(v)return f("div",{class:me("finished-text")},[v])}},d=()=>{t("update:error",!1),l()},h=()=>{if(e.error){const v=n.error?n.error():e.errorText;if(v)return f("div",{role:"button",class:me("error-text"),tabindex:0,onClick:d},[v])}},b=()=>{if(i.value&&!e.finished&&!e.disabled)return f("div",{class:me("loading")},[n.loading?n.loading():f(St,{class:me("loading-icon")},{default:()=>[e.loadingText||Io("loading")]})])};return A(()=>[e.loading,e.finished,e.error],l),s&&A(s,v=>{v&&l()}),Cn(()=>{i.value=e.loading}),ne(()=>{e.immediateCheck&&l()}),fe({check:l}),ye("scroll",l,{target:c,passive:!0}),()=>{var v;const w=(v=n.default)==null?void 0:v.call(n),m=f("div",{ref:o,class:me("placeholder")},null);return f("div",{ref:a,role:"feed",class:me(),"aria-busy":i.value},[e.direction==="down"?w:m,b(),u(),h(),e.direction==="up"?w:m])}}});const Ca=_(Lo),[Oo,te]=p("nav-bar"),Po={title:String,fixed:Boolean,zIndex:T,border:B,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:B};var zo=L({name:Oo,props:Po,emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const i=x(),a=Gn(i,te),o=u=>{e.leftDisabled||t("clickLeft",u)},s=u=>{e.rightDisabled||t("clickRight",u)},r=()=>n.left?n.left():[e.leftArrow&&f(ue,{class:te("arrow"),name:"arrow-left"},null),e.leftText&&f("span",{class:te("text")},[e.leftText])],c=()=>n.right?n.right():f("span",{class:te("text")},[e.rightText]),l=()=>{const{title:u,fixed:d,border:h,zIndex:b}=e,v=mt(b),w=e.leftArrow||e.leftText||n.left,m=e.rightText||n.right;return f("div",{ref:i,style:v,class:[te({fixed:d}),{[Xn]:h,"van-safe-area-top":e.safeAreaInsetTop}]},[f("div",{class:te("content")},[w&&f("div",{class:[te("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?Re:""],onClick:o},[r()]),f("div",{class:[te("title"),"van-ellipsis"]},[n.title?n.title():u]),m&&f("div",{class:[te("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?Re:""],onClick:s},[c()])])])};return()=>e.fixed&&e.placeholder?a(l):l()}});const Ta=_(zo),[_o,Ro]=p("skeleton-title"),Do={round:Boolean,titleWidth:T};var Fo=L({name:_o,props:Do,setup(e){return()=>f("h3",{class:Ro([{round:e.round}]),style:{width:W(e.titleWidth)}},null)}});const No=_(Fo);var Ho=No;const[Wo,jo]=p("skeleton-avatar"),Mo={avatarSize:T,avatarShape:O("round")};var Vo=L({name:Wo,props:Mo,setup(e){return()=>f("div",{class:jo([e.avatarShape]),style:Xt(e.avatarSize)},null)}});const Yo=_(Vo);var Uo=Yo;const xt="100%",qo={round:Boolean,rowWidth:{type:T,default:xt}},[Xo,Ko]=p("skeleton-paragraph");var Zo=L({name:Xo,props:qo,setup(e){return()=>f("div",{class:Ko([{round:e.round}]),style:{width:e.rowWidth}},null)}});const Go=_(Zo);var Qo=Go;const[Jo,Nt]=p("skeleton"),ea="60%",ta={row:G(0),round:Boolean,title:Boolean,titleWidth:T,avatar:Boolean,avatarSize:T,avatarShape:O("round"),loading:B,animate:B,rowWidth:{type:[Number,String,Array],default:xt}};var na=L({name:Jo,inheritAttrs:!1,props:ta,setup(e,{slots:t,attrs:n}){const i=()=>{if(e.avatar)return f(Uo,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},a=()=>{if(e.title)return f(Ho,{round:e.round,titleWidth:e.titleWidth},null)},o=c=>{const{rowWidth:l}=e;return l===xt&&c===+e.row-1?ea:Array.isArray(l)?l[c]:l},s=()=>Array(+e.row).fill("").map((c,l)=>f(Qo,{key:l,round:e.round,rowWidth:W(o(l))},null)),r=()=>t.template?t.template():f(ut,null,[i(),f("div",{class:Nt("content")},[a(),s()])]);return()=>{var c;return e.loading?f("div",ae({class:Nt({animate:e.animate,round:e.round})},n),[r()]):(c=t.default)==null?void 0:c.call(t)}}});const Ea=_(na);class ia{constructor({el:t,src:n,error:i,loading:a,bindType:o,$parent:s,options:r,cors:c,elRenderer:l,imageCache:u}){this.el=t,this.src=n,this.error=i,this.loading=a,this.bindType=o,this.attempt=0,this.cors=c,this.naturalHeight=0,this.naturalWidth=0,this.options=r,this.$parent=s,this.elRenderer=l,this.imageCache=u,this.performanceData={loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update({src:t,loading:n,error:i}){const a=this.src;this.src=t,this.loading=n,this.error=i,this.filter(),a!==this.src&&(this.attempt=0,this.initState())}checkInView(){const t=q(this.el);return t.top<window.innerHeight*this.options.preLoad&&t.bottom>this.options.preLoadTop&&t.left<window.innerWidth*this.options.preLoad&&t.right>0}filter(){Object.keys(this.options.filter).forEach(t=>{this.options.filter[t](this,this.options)})}renderLoading(t){this.state.loading=!0,ot({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1})}load(t=dt){if(this.attempt>this.options.attempt-1&&this.state.error){t();return}if(!(this.state.rendered&&this.state.loaded)){if(this.imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{var n,i;this.attempt++,(i=(n=this.options.adapter).beforeLoad)==null||i.call(n,this,this.options),this.record("loadStart"),ot({src:this.src,cors:this.cors},a=>{this.naturalHeight=a.naturalHeight,this.naturalWidth=a.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this.imageCache.add(this.src),t()},a=>{!this.options.silent&&console.error(a),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,n){this.elRenderer(this,t,n)}performance(){let t="loading",n=0;return this.state.loaded&&(t="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:n}}$destroy(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}const Ht="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oa=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],aa={rootMargin:"0px",threshold:0};function ra(){return class{constructor({preLoad:t,error:n,throttleWait:i,preLoadTop:a,dispatchEvent:o,loading:s,attempt:r,silent:c=!0,scale:l,listenEvents:u,filter:d,adapter:h,observer:b,observerOptions:v}){this.mode=le.event,this.listeners=[],this.targetIndex=0,this.targets=[],this.options={silent:c,dispatchEvent:!!o,throttleWait:i||200,preLoad:t||1.3,preLoadTop:a||0,error:n||Ht,loading:s||Ht,attempt:r||3,scale:l||go(l),ListenEvents:u||oa,supportWebp:mo(),filter:d||{},adapter:h||{},observer:!!b,observerOptions:v||aa},this.initEvent(),this.imageCache=new So({max:200}),this.lazyLoadHandler=bo(this.lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?le.observer:le.event)}config(t={}){Object.assign(this.options,t)}performance(){return this.listeners.map(t=>t.performance())}addLazyBox(t){this.listeners.push(t),K&&(this.addListenerTarget(window),this.observer&&this.observer.observe(t.el),t.$el&&t.$el.parentNode&&this.addListenerTarget(t.$el.parentNode))}add(t,n,i){if(this.listeners.some(s=>s.el===t))return this.update(t,n),D(this.lazyLoadHandler);const a=this.valueFormatter(n.value);let{src:o}=a;D(()=>{o=Dt(t,this.options.scale)||o,this.observer&&this.observer.observe(t);const s=Object.keys(n.modifiers)[0];let r;s&&(r=i.context.$refs[s],r=r?r.$el||r:document.getElementById(s)),r||(r=ht(t));const c=new ia({bindType:n.arg,$parent:r,el:t,src:o,loading:a.loading,error:a.error,cors:a.cors,elRenderer:this.elRenderer.bind(this),options:this.options,imageCache:this.imageCache});this.listeners.push(c),K&&(this.addListenerTarget(window),this.addListenerTarget(r)),this.lazyLoadHandler(),D(()=>this.lazyLoadHandler())})}update(t,n,i){const a=this.valueFormatter(n.value);let{src:o}=a;o=Dt(t,this.options.scale)||o;const s=this.listeners.find(r=>r.el===t);s?s.update({src:o,error:a.error,loading:a.loading}):this.add(t,n,i),this.observer&&(this.observer.unobserve(t),this.observer.observe(t)),this.lazyLoadHandler(),D(()=>this.lazyLoadHandler())}remove(t){if(!t)return;this.observer&&this.observer.unobserve(t);const n=this.listeners.find(i=>i.el===t);n&&(this.removeListenerTarget(n.$parent),this.removeListenerTarget(window),Te(this.listeners,n),n.$destroy())}removeComponent(t){t&&(Te(this.listeners,t),this.observer&&this.observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this.removeListenerTarget(t.$el.parentNode),this.removeListenerTarget(window))}setMode(t){!Rt&&t===le.observer&&(t=le.event),this.mode=t,t===le.event?(this.observer&&(this.listeners.forEach(n=>{this.observer.unobserve(n.el)}),this.observer=null),this.targets.forEach(n=>{this.initListen(n.el,!0)})):(this.targets.forEach(n=>{this.initListen(n.el,!1)}),this.initIntersectionObserver())}addListenerTarget(t){if(!t)return;let n=this.targets.find(i=>i.el===t);return n?n.childrenCount++:(n={el:t,id:++this.targetIndex,childrenCount:1,listened:!0},this.mode===le.event&&this.initListen(n.el,!0),this.targets.push(n)),this.targetIndex}removeListenerTarget(t){this.targets.forEach((n,i)=>{n.el===t&&(n.childrenCount--,n.childrenCount||(this.initListen(n.el,!1),this.targets.splice(i,1),n=null))})}initListen(t,n){this.options.ListenEvents.forEach(i=>(n?yo:wo)(t,i,this.lazyLoadHandler))}initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,n)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(n)},this.$once=(t,n)=>{const i=(...a)=>{this.$off(t,i),n.apply(this,a)};this.$on(t,i)},this.$off=(t,n)=>{if(!n){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Te(this.Event.listeners[t],n)},this.$emit=(t,n,i)=>{this.Event.listeners[t]&&this.Event.listeners[t].forEach(a=>a(n,i))}}lazyLoadHandler(){const t=[];this.listeners.forEach(n=>{(!n.el||!n.el.parentNode)&&t.push(n),n.checkInView()&&n.load()}),t.forEach(n=>{Te(this.listeners,n),n.$destroy()})}initIntersectionObserver(){Rt&&(this.observer=new IntersectionObserver(this.observerHandler.bind(this),this.options.observerOptions),this.listeners.length&&this.listeners.forEach(t=>{this.observer.observe(t.el)}))}observerHandler(t){t.forEach(n=>{n.isIntersecting&&this.listeners.forEach(i=>{if(i.el===n.target){if(i.state.loaded)return this.observer.unobserve(i.el);i.load()}})})}elRenderer(t,n,i){if(!t.el)return;const{el:a,bindType:o}=t;let s;switch(n){case"loading":s=t.loading;break;case"error":s=t.error;break;default:({src:s}=t);break}if(o?a.style[o]='url("'+s+'")':a.getAttribute("src")!==s&&a.setAttribute("src",s),a.setAttribute("lazy",n),this.$emit(n,t,i),this.options.adapter[n]&&this.options.adapter[n](t,this.options),this.options.dispatchEvent){const r=new CustomEvent(n,{detail:t});a.dispatchEvent(r)}}valueFormatter(t){let n=t,{loading:i,error:a}=this.options;return Ne(t)&&({src:n}=t,i=t.loading||this.options.loading,a=t.error||this.options.error),{src:n,loading:i,error:a}}}}var sa=e=>({props:{tag:{type:String,default:"div"}},emits:["show"],render(){return jt(this.tag,this.show&&this.$slots.default?this.$slots.default():null)},data(){return{el:null,state:{loaded:!1},show:!1}},mounted(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeUnmount(){e.removeComponent(this)},methods:{checkInView(){const t=q(this.$el);return K&&t.top<window.innerHeight*e.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*e.options.preLoad&&t.right>0},load(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy(){return this.$destroy}}});const la={selector:"img"};class ca{constructor({el:t,binding:n,vnode:i,lazy:a}){this.el=null,this.vnode=i,this.binding=n,this.options={},this.lazy=a,this.queue=[],this.update({el:t,binding:n})}update({el:t,binding:n}){this.el=t,this.options=Object.assign({},la,n.value),this.getImgs().forEach(a=>{this.lazy.add(a,Object.assign({},this.binding,{value:{src:"dataset"in a?a.dataset.src:a.getAttribute("data-src"),error:("dataset"in a?a.dataset.error:a.getAttribute("data-error"))||this.options.error,loading:("dataset"in a?a.dataset.loading:a.getAttribute("data-loading"))||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}class ua{constructor({lazy:t}){this.lazy=t,this.queue=[]}bind(t,n,i){const a=new ca({el:t,binding:n,vnode:i,lazy:this.lazy});this.queue.push(a)}update(t,n,i){const a=this.queue.find(o=>o.el===t);a&&a.update({el:t,binding:n,vnode:i})}unbind(t){const n=this.queue.find(i=>i.el===t);n&&(n.clear(),Te(this.queue,n))}}var da=e=>({props:{src:[String,Object],tag:{type:String,default:"img"}},render(){var t,n;return jt(this.tag,{src:this.renderSrc},(n=(t=this.$slots).default)==null?void 0:n.call(t))},data(){return{el:null,options:{src:"",error:"",loading:"",attempt:e.options.attempt},state:{loaded:!1,error:!1,attempt:0},renderSrc:""}},watch:{src(){this.init(),e.addLazyBox(this),e.lazyLoadHandler()}},created(){this.init()},mounted(){this.el=this.$el,e.addLazyBox(this),e.lazyLoadHandler()},beforeUnmount(){e.removeComponent(this)},methods:{init(){const{src:t,loading:n,error:i}=e.valueFormatter(this.src);this.state.loaded=!1,this.options.src=t,this.options.error=i,this.options.loading=n,this.renderSrc=this.options.loading},checkInView(){const t=q(this.$el);return t.top<window.innerHeight*e.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*e.options.preLoad&&t.right>0},load(t=dt){if(this.state.attempt>this.options.attempt-1&&this.state.error){t();return}const{src:n}=this.options;ot({src:n},({src:i})=>{this.renderSrc=i,this.state.loaded=!0},()=>{this.state.attempt++,this.renderSrc=this.options.error,this.state.error=!0})}}});const ka={install(e,t={}){const n=ra(),i=new n(t),a=new ua({lazy:i});e.config.globalProperties.$Lazyload=i,t.lazyComponent&&e.component("LazyComponent",sa(i)),t.lazyImage&&e.component("LazyImage",da(i)),e.directive("lazy",{beforeMount:i.add.bind(i),updated:i.update.bind(i),unmounted:i.remove.bind(i)}),e.directive("lazy-container",{beforeMount:a.bind.bind(a),updated:a.update.bind(a),unmounted:a.unbind.bind(a)})}};export{va as B,ba as C,xa as D,ue as I,Ca as L,Ta as N,Hi as S,ya as T,Sa as a,St as b,ga as c,ma as d,Qi as e,ka as f,wa as g,Ea as h};
